<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - Impresos S.R.L.</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./core/ui/css/core.css">
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white p-8 rounded-lg shadow-[0px_10px_39px_12px_rgba(0,_0,_0,_0.3)] max-w-md w-full text-center">

        <!-- Logo (más grande) -->
        <div class="mb- -3">
            <img src="./shared/images/logo.png" alt="Logo Impresos S.R.L." class="mx-auto h-28 w-auto"
                 onerror="this.onerror=null;this.src='https://placehold.co/200x100/f87171/ffffff?text=Impresos+SRL&font=raleway';">
        </div>

        <h2 class="text-3xl font-bold text-gray-800 mb-9">Bienvenido</h2>

        <form id="loginForm">
            <!-- Campo de Correo Electrónico -->
            <div class="mb-4 text-left">
                <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Correo Electrónico</label>
                <input
                    type="email"
                    id="email"
                    name="email"
                    class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
                    placeholder="tu@email.com"
                >
            </div>

            <!-- Campo de Contraseña (CORREGIDO) -->
            <div class="mb-6 text-left">
                <label for="password" class="block text-gray-700 text-sm font-semibold mb-2">Contraseña</label>
                <!-- Contenedor relativo solo para el input y el botón -->
                <div class="relative">
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 pr-10 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
                        placeholder="••••••••"
                    >
                    <!-- Botón de ojo posicionado dentro del contenedor relativo -->
                    <button
                        type="button"
                        id="togglePassword"
                        class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-600 hover:text-gray-800 focus:outline-none"
                        aria-label="Toggle password visibility"
                    >
                        <!-- Ojo Abierto (NUEVO ICONO) -->
                        <svg id="eye-open" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                        <!-- Ojo Cerrado (NUEVO ICONO) -->
                        <svg id="eye-closed" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/>
                            <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/>
                            <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/>
                            <line x1="2" x2="22" y1="2" y2="22"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- (Aquí inyectaremos el messageBox de JS) -->
            <div id="messageBox" class="p-3 text-sm rounded-lg font-medium hidden text-center mt-3" role="alert"></div>


            <!-- Botón de Iniciar Sesión -->
            <button
                type="submit"
                id="loginButton"
                class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg w-full focus:outline-none focus:shadow-outline transition duration-150 ease-in-out"
            >
                Iniciar Sesión
            </button>
        </form>

        <p class="text-gray-600 text-xs mt-6">
            © 2025 Impresos S.R.L. Todos los derechos reservados.
        </p>
    </div>

    <!-- CONEXIÓN AL CONTROLADOR DE LOGIN DE SUPABASE -->
    <script type="module" src="./login.controller.js"></script>

</body>
</html>